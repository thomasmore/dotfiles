#!/bin/bash

if [[ $(id -u) -ne 0 ]]; then
  echo "FATAL: Run as root."
  exit 1
fi

add-apt-repository ppa:aacebedo/fasd ppa:neovim-ppa/unstable
apt update
apt install clang gcc clangd gdb cmake make ninja-build neovim ruby ruby-dev gem htop tig tmux pip fish lolcat cowsay fortunes fortune-mod ripgrep fd-find fasd tldr
apt install -o Dpkg::Options::="--force-overwrite" bat

gem install --user-install solargraph
pip install cmake-language-server

git clone --depth 1 https://github.com/junegunn/fzf.git $HOME/.fzf
$HOME/.fzf/install

sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
nvim --headless +PlugInstall +qall

fish -c 'curl -sL https://git.io/fisher | source && fisher install jorgebucaran/fisher'
fish -c 'fisher install fishgretel/fasd'
 
sh -c "$(curl -fsSL https://starship.rs/install.sh)"

chsh -s /usr/bin/fish
